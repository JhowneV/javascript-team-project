const e="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",t=document.getElementById("main"),n=document.getElementById("search-form"),s=document.getElementById("search-input"),i=(document.getElementById("gallery"),document.getElementById("prev")),o=document.getElementById("next"),a=document.getElementById("current");var d=1,l=2,r=3,c="",m=100;function p(e){c=e,fetch(e).then((e=>e.json())).then((e=>{console.log(e.results),0!==e.results.length?(!function(e){t.innerHTML="",e.forEach((e=>{const{title:n,poster_path:s,release_date:i}=e,o=document.createElement("div");o.classList.add("movie"),o.innerHTML=`\n            <img src="${s?"https://image.tmdb.org/t/p/w500"+s:"http:/>/via.placeholder.com/1080x1500"}"\n                alt="${n}"/>\n            \n            <div class="movie-info">\n                <h3>${n}</h3>\n                <div class="movie-details">\n                    <span id="release_date" class="${i}">${i}</span>\n                </div>\n            </div>        \n        `,t.appendChild(o)}))}(e.results),d=e.page,l=d+1,r=d-1,m=e.total_pages,a.innerText=d,d<=1?(i.classList.add("disabled"),o.classList.remove("disabled")):d>=m?(i.classList.remove("disabled"),o.classList.add("disabled")):(i.classList.remove("disabled"),o.classList.remove("disabled"))):t.innerHTML='<h1 class="no-results">No Results Found</h1>'}))}function h(e){let t=c.split("?"),n=t[1].split("&"),s=n[n.length-1].split("=");if("page"!=s[0]){p(c+"&page="+e)}else{s[1]=e.toString();let i=s.join("=");n[n.length-1]=i;let o=n.join("&");p(t[0]+"?"+o)}}function v(){(JSON.parse(localStorage.getItem("watchedMovies"))||[]).forEach((e=>{fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=YOUR_API_KEY`).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{!function(e){const t=document.getElementById("movies-list"),n=document.createElement("div");n.innerHTML=`\n        <h3>${e.title}</h3>\n        <p>${e.overview}</p>\n        <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">\n    `,t.appendChild(n)}(e)})).catch((e=>{console.error("Error fetching movie:",e)}))}))}p(e),n.addEventListener("submit",(t=>{t.preventDefault();const n=s.value;p(n?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+n:e)})),i.addEventListener("click",(()=>{r>0&&h(r)})),o.addEventListener("click",(()=>{l<=m&&h(l)})),window.onload=function(){v()};
//# sourceMappingURL=library.ec91b73c.js.map
