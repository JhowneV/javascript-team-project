const e="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",t=document.getElementById("main"),n=document.getElementById("search-form"),s=document.getElementById("search-input"),i=(document.getElementById("gallery"),document.getElementById("prev")),d=document.getElementById("next"),a=document.getElementById("current");var o=1,l=2,c=3,r="",m=100;function p(e){r=e,fetch(e).then((e=>e.json())).then((e=>{console.log(e.results),0!==e.results.length?(!function(e){t.innerHTML="",e.forEach((e=>{const{title:n,poster_path:s,release_date:i}=e,d=document.createElement("div");d.classList.add("movie"),d.innerHTML=`\n            <img src="${s?"https://image.tmdb.org/t/p/w500"+s:"http:/>/via.placeholder.com/1080x1500"}"\n                alt="${n}"/>\n            \n            <div class="movie-info">\n                <h3>${n}</h3>\n                <div class="movie-details">\n                    <span id="release_date" class="${i}">${i}</span>\n                </div>\n            </div>        \n        `,t.appendChild(d)}))}(e.results),o=e.page,l=o+1,c=o-1,m=e.total_pages,a.innerText=o,o<=1?(i.classList.add("disabled"),d.classList.remove("disabled")):o>=m?(i.classList.remove("disabled"),d.classList.add("disabled")):(i.classList.remove("disabled"),d.classList.remove("disabled"))):t.innerHTML='<h1 class="no-results">No Results Found</h1>'}))}function h(e){let t=r.split("?"),n=t[1].split("&"),s=n[n.length-1].split("=");if("page"!=s[0]){p(r+"&page="+e)}else{s[1]=e.toString();let i=s.join("=");n[n.length-1]=i;let d=n.join("&");p(t[0]+"?"+d)}}p(e),n.addEventListener("submit",(t=>{t.preventDefault();const n=s.value;p(n?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+n:e)})),i.addEventListener("click",(()=>{c>0&&h(c)})),d.addEventListener("click",(()=>{l<=m&&h(l)})),document.addEventListener("DOMContentLoaded",(function(){(JSON.parse(localStorage.getItem("watchedMovies"))||[]).forEach((e=>{fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=YOUR_API_KEY`).then((e=>e.json())).then((e=>function(e){const t=document.getElementById("movies-list"),n=document.createElement("div");n.innerHTML=`\n        <h3>${e.title}</h3>\n        <p>${e.overview}</p>\n        <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">\n    `,t.appendChild(n)}(e))).catch((e=>console.error("Error fetching data: ",e)))}))}));
//# sourceMappingURL=library.d4ae5d29.js.map
